<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Enjoy Working!</title>
    <meta name="title" content="Enjoy Working!" />
    <meta name="keywords" content="Enjoy Working!" />
    <meta name="description" content="Enjoy Working!" />
	<link rel="apple-touch-icon" sizes="57x57" href="../../content/images/favicon/apple-icon-57x57.png">
	<link rel="apple-touch-icon" sizes="60x60" href="../../content/images/favicon/apple-icon-60x60.png">
	<link rel="apple-touch-icon" sizes="72x72" href="../../content/images/favicon/apple-icon-72x72.png">
	<link rel="apple-touch-icon" sizes="76x76" href="../../content/images/favicon/apple-icon-76x76.png">
	<link rel="apple-touch-icon" sizes="114x114" href="../../content/images/favicon/apple-icon-114x114.png">
	<link rel="apple-touch-icon" sizes="120x120" href="../../content/images/favicon/apple-icon-120x120.png">
	<link rel="apple-touch-icon" sizes="144x144" href="../../content/images/favicon/apple-icon-144x144.png">
	<link rel="apple-touch-icon" sizes="152x152" href="../../content/images/favicon/apple-icon-152x152.png">
	<link rel="apple-touch-icon" sizes="180x180" href="../../content/images/favicon/apple-icon-180x180.png">
	<link rel="icon" type="image/png" sizes="192x192"  href="../../content/images/favicon/android-icon-192x192.png">
	<link rel="icon" type="image/png" sizes="32x32" href="../../content/images/favicon/favicon-32x32.png">
	<link rel="icon" type="image/png" sizes="96x96" href="../../content/images/favicon/favicon-96x96.png">
	<link rel="icon" type="image/png" sizes="16x16" href="../../content/images/favicon/favicon-16x16.png">
	<link rel="manifest" href="../../content/images/favicon/manifest.json">
	<meta name="msapplication-TileColor" content="#ffffff">
	<meta name="msapplication-TileImage" content="../../content/images/favicon/ms-icon-144x144.png">
	<meta name="theme-color" content="#ffffff">
    <link href="../../content/styles/style.css" rel="stylesheet">
	<link href="../../content/styles/custom.css" rel="stylesheet">
	<!-- Custom CSS -->
    <link href="../../content/assets/fullcalendar/fullcalendar.min.css" rel="stylesheet" />
	<link href="../../content/styles/calendar.css" rel="stylesheet">
    <!-- This page CSS -->
    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
    <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
</head>

<body>
    <div class="main-wrapper" id="main-wrapper">
        <!-- ============================================================== -->
        <!-- Preloader - style you can find in spinners.css -->
        <!-- ============================================================== -->
        <div class="preloader">
            <div class="loader">
                <div class="loader__figure"></div>
                <p class="loader__label">Enjoy Working!</p>
            </div>
        </div>
        <!-- ============================================================== -->
        <!-- Preloader - style you can find in spinners.css -->
        <!-- ============================================================== -->
        <header class="topbar">
            <!-- ============================================================== -->
            <!-- Navbar scss in header.scss -->
            <!-- ============================================================== -->
            <nav>
                <div class="nav-wrapper">
                    <!-- ============================================================== -->
                    <!-- Logo you can find that scss in header.scss -->
                    <!-- ============================================================== -->
                    <a href="/views/html/" class="brand-logo">
                        <span class="icon">
                            <img class="light-logo" src="../../content/images/logo_40.png">
                            <img class="dark-logo" src="../../content/images/logo_40.png">
                        </span>
                        <span class="text"><h5 class="p-t-20">&nbsp;Enjoy Working!</h5></span>
                    </a>
                    <!-- ============================================================== -->
                    <!-- Logo you can find that scss in header.scss -->
                    <!-- ============================================================== -->
                    <!-- ============================================================== -->
                    <!-- Left topbar icon scss in header.scss -->
                    <!-- ============================================================== -->
                    <ul class="left">
                        <li class="hide-on-med-and-down">
                            <a href="javascript: void(0);" class="nav-toggle">
                                <span class="bars bar1"></span>
                                <span class="bars bar2"></span>
                                <span class="bars bar3"></span>
                            </a>
                        </li>
                        <li class="hide-on-large-only">
                            <a href="javascript: void(0);" class="sidebar-toggle">
                                <span class="bars bar1"></span>
                                <span class="bars bar2"></span>
                                <span class="bars bar3"></span>
                            </a>
                        </li>
                        <!-- ============================================================== -->
                        <!-- Notification icon scss in header.scss -->
                        <!-- ============================================================== -->
                        <!-- ============================================================== -->
                        <!-- Comment topbar icon scss in header.scss -->
                        <!-- ============================================================== -->
                        <li class="search-box">
                            <a href="javascript: void(0);"><i class="material-icons">search</i></a>
                            <form class="app-search z-depth-0">
                                <input type="text" class="form-control" placeholder="구성원" maxlength="10"> <a class="srh-btn"><i class="ti-close"></i></a>
                            </form>
                        </li>
                    </ul>
                    <!-- ============================================================== -->
                    <!-- Left topbar icon scss in header.scss -->
                    <!-- ============================================================== -->
                    <!-- ============================================================== -->
                    <!-- Right topbar icon scss in header.scss -->
                    <!-- ============================================================== -->
                    <ul class="right">
                    </ul>
                    <!-- ============================================================== -->
                    <!-- Right topbar icon scss in header.scss -->
                    <!-- ============================================================== -->
                </div>
            </nav>
            <!-- ============================================================== -->
            <!-- Navbar scss in header.scss -->
            <!-- ============================================================== -->
        </header>
        <!-- ============================================================== -->
        <!-- Sidebar scss in sidebar.scss -->
        <!-- ============================================================== -->
        <aside class="left-sidebar">
            <ul id="slide-out" class="sidenav">
                <li>
                    <ul class="collapsible">
                        <li class="small-cap"><span class="hide-menu">PERSONAL</span></li>
						<li>
                            <a href="index.html" class="collapsible-header"><i class="material-icons">perm_contact_calendar</i><span class="hide-menu">HOME</span></a>
                        </li>
                        <li>
                            <a href="cal.html" class="collapsible-header"><i class="material-icons">add_alarm</i><span class="hide-menu">추가 근로 신청내역</span></a>
                        </li>
						<li>
                            <a href="javascript: void(0);" class="collapsible-header"><i class="material-icons">contacts</i><span class="hide-menu">월별 근로 현황</span></a>
                        </li>
						<li>
                            <a href="javascript: void(0);" class="collapsible-header"><i class="material-icons">date_range</i><span class="hide-menu">월별 보상 휴가 현황</span></a>
                        </li>
                    </ul>
                </li>
				<li>
                    <ul class="collapsible">
                        <li class="small-cap"><span class="hide-menu">Authentication</span></li>
                        <li>
                            <a href="javascript: void(0);" class="collapsible-header has-arrow"><i class="material-icons">assignment</i><span class="hide-menu">근로 관리</span></a>
							<div class="collapsible-body">
                                <ul>
                                    <li><a href="javascript: void(0);"><i class="material-icons">assignment_ind</i><span class="hide-menu">근로 기본 설정</span></a></li>
                                    <li><a href="javascript: void(0);"><i class="material-icons">assignment_late</i><span class="hide-menu">근로 형태 설정</span></a></li>
                                    <li><a href="javascript: void(0);"><i class="material-icons">assignment_turned_in</i><span class="hide-menu">근로 형태 배정</span></a></li>
                                </ul>
                            </div>
                        </li>
						<li>
                            <a href="javascript: void(0);" class="collapsible-header"><i class="material-icons">access_time</i><span class="hide-menu">간주근로시간제 관리</span></a>
                        </li>
						<li>
                            <a href="javascript: void(0);" class="collapsible-header has-arrow"><i class="material-icons">perm_contact_calendar</i><span class="hide-menu">휴일 관리</span></a>
							<div class="collapsible-body">
                                <ul>
                                    <li><a href="javascript: void(0);"><i class="material-icons">insert_invitation</i><span class="hide-menu">휴일 캘린더</span></a></li>
                                    <li><a href="javascript: void(0);"><i class="material-icons">today</i><span class="hide-menu">추가 휴일</span></a></li>
                                </ul>
                            </div>
                        </li>
						<li>
                            <a href="javascript: void(0);" class="collapsible-header"><i class="material-icons">account_circle</i><span class="hide-menu">근무제 승인관리</span></a>
                        </li>
                    </ul>
                </li>
            </ul>
        </aside>
        <!-- ============================================================== -->
        <!-- Sidebar scss in sidebar.scss -->
        <!-- ============================================================== -->
        <!-- ============================================================== -->
        <!-- Page wrapper scss in scafholding.scss -->
        <!-- ============================================================== -->
		<div class="page-wrapper page-header">
            <!-- ============================================================== -->
            <!-- Temp - Earnings -->
            <!-- ============================================================== -->
            <div class="card info-gradient m-t-0 m-b-0">
                <div class="card-content">
                    <div class="p-b-40 p-t-20">
						<div class="row center-align">
							<!-- col -->
							<div class="info col m4 s12 l4">
								<h4 class="font-medium m-b-5 m-t-5">김하늘</h4>
								<span class="green-text">디지털커뮤니케이션팀</span>
							</div>
							<!-- col -->
							<!-- col -->
							<div class="info col m4 s12 l4">
								<h4 class="font-medium m-b-5 m-t-5">20년 12월 10일</h4>
							</div>
							<!-- col -->
							<!-- col -->
							<div class="info col m4 s12 l4">
								<h4 class="font-medium m-b-5 m-t-5">근무중</h4>
								<div>근무시간 : 09:00 – 18:00</div>
								<div>근무시간 : 09:00 – 18:00</div>
								<div>근무시간 : 09:00 – 18:00</div>
								<div>(휴게 시간 : 12:00~13:00)</div>
							</div>
							<!-- col -->
						</div>
                    </div>
                </div>
            </div>
            <!-- ============================================================== -->
            <!-- Container fluid scss in scafholding.scss -->
            <!-- ============================================================== -->
            <div class="container-fluid">
                <div class="row ew-cal">
                    <div class="col s12">
                        <div class="card z-depth-0">
							<div class="card-content">
                                <div class="d-flex no-block align-items-center justify-content-center">
									<div><i class="ti-angle-left display-7 m-r-10 cur_2" id="ewPrevButton"></i></div>
                                    <div>
                                        <h3 class="m-b-0" id="ewCalTitle"></h3>
                                    </div>
									<div><i class="ti-angle-right display-7 m-l-10 cur_2" id="ewNextButton"></i></div>
                                </div>
                            </div>
                            <div id="calendar" style=""></div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- ============================================================== -->
            <!-- Container fluid scss in scafholding.scss -->
            <!-- ============================================================== -->
            <footer class="center-align m-b-30 font-12">2020 COPYRIGHT(C) UNIVTOMORROW.ALL RIGHTS RESERVED. <a href="https://corp.univ.me" target="_blank">대학내일</a></footer>
        </div>
        <!-- ============================================================== -->
        <!-- Page wrapper scss in scafholding.scss -->
        <!-- ============================================================== -->
        <!-- ============================================================== -->
        <!-- Right Sidebar -->
        <!-- ============================================================== -->
        <div class="chat-windows"></div>
        <!-- ============================================================== -->
        <!-- Right Sidebar -->
        <!-- ============================================================== -->
    </div>
    <!-- ============================================================== -->
    <!-- All Required js -->
    <!-- ============================================================== -->
    <script src="../../content/scripts/jquery.min.js"></script>
    <script src="../../content/scripts/materialize.min.js"></script>
    <script src="../../content/assets/perfect-scrollbar/js/perfect-scrollbar.jquery.min.js"></script>
    <!-- ============================================================== -->
    <!-- Apps -->
    <!-- ============================================================== -->
    <script src="../../content/scripts/app.js"></script>
    <!-- ============================================================== -->
    <!-- Custom js -->
    <!-- ============================================================== -->
    <script src="../../content/scripts/custom.js"></script>
    <!-- ============================================================== -->
    <!-- This page plugin js -->
    <!-- ============================================================== -->
	<script src="../../content/assets/fullcalendar/moment.min.js"></script>
    <script src="../../content/assets/fullcalendar/fullcalendar.min.js"></script>
	<script src="../../content/assets/fullcalendar/ko.js"></script>
	<script>
		// ============================================================== //
		// default option //
		// ============================================================== //
		$(function() {
			"use strict";
			$("#main-wrapper").AdminSettings({
				Theme: false, // this can be true or false ( true means dark and false means light ),
				Layout: 'vertical',
				LogoBg: 'skin6', // You can change the Value to be skin1/skin2/skin3/skin4/skin5/skin6 
				NavbarBg: 'skin6', // You can change the Value to be skin1/skin2/skin3/skin4/skin5/skin6
				SidebarType: 'full', // You can change it full / mini-sidebar / iconbar / overlay
				SidebarColor: 'skin6', // You can change the Value to be skin1/skin2/skin3/skin4/skin5/skin6
				SidebarPosition: false, // it can be true / false
				HeaderPosition: false, // it can be true / false
				BoxedLayout: true, // it can be true / false 
			});
		});

		var calendarSource = [
		{
			id: 1,
			title: '6h',
			start: '2019-12-06T10:00:01',
			className : "ew-total",
			icon: 'sum'
		},
		{
			id: 2,
			title: '0h',
			start: '2019-12-06T10:00:02',
			className : "ew-empty",
			icon: 'empty'
		},
		{
			id: 3,
			title: '근무: 09:00~21:00',
			start: '2019-12-06T10:00:04'
		},
		{
			id: 4,
			title: '6h',
			start: '2019-12-07T10:00:01',
			className : "ew-total",
			icon: 'sum'
		},
		{
			id: 5,
			title: '2h',
			start: '2019-12-07T10:00:02',
			className : "ew-off",
			icon: 'offsum'
		},
		{
			id: 6,
			title: '8h',
			start: '2019-12-11T10:00:00',
			className : 'ew-total-off',
			icon: 'dayoff'
		},
		{
			id: 7,
			title: 'L2',
			start: '2019-12-12T10:00:00',
			className : 'ew-total-out',
			icon: 'outside'
		},
		{
			id: 8,
			title: '6h',
			start: '2019-12-13T10:00:01',
			className : "ew-total",
			icon: 'sum'
		},
		{
			id: 9,
			title: '5h',
			start: '2019-12-13T10:00:02',
			className : "ew-off",
			icon: 'offsum'
		},
		{
			id: 10,
			title: '휴가: 09:00~21:00',
			start: '2019-12-13T10:00:03',
			className : "ew-approval",
			icon: 'approval'
		},
		{
			id: 11,
			title: '근무: 09:00~21:00',
			start: '2019-12-13T10:00:04'
		},
		{
			id: 12,
			title: '근무: 09:00~21:00',
			start: '2019-12-13T10:00:05'
		},
		{
			id: 13,
			title: '출장: 09:00~21:00',
			start: '2019-12-13T10:00:06'
		},
		{
			id: 14,
			title: '휴가: 09:00~21:00',
			start: '2019-12-13T10:00:07',
			className : "ew-green"
		}];

		$(document).ready(function(){
			var ewCal = $('#calendar').fullCalendar({
				header: false,
				buttonIcons: {
					prev: 'left-single-arrow',
					next: 'fa-chevron-right'
				},
				lang: 'ko',
				editable: false,
				droppable: false,
				eventLimit: false,
				contentHeight:"auto",
				displayEventTime: false,
				events: calendarSource,
				eventRender: function(event, element) {
					 if(event.icon){
						switch(event.icon) {
							case 'approval':	
									element.find(".fc-title").before("<i class='ti-pencil-alt tiny'></i>&nbsp;");
								break;
							case 'sum' :
									element.find(".fc-title").before("<i class='far fa-clock tiny'></i>&nbsp;");
								break;
							case 'offsum' :
									element.find(".fc-title").before("<i class='ti-face-smile tiny'></i>&nbsp;");
								break;
							case 'outside' :
									//element.find(".fc-title").before("<i class='ti-truck tiny'></i>&nbsp;");
									element.find(".fc-title").before("<i class='fas fa-car tiny'></i>&nbsp;");
								break;
							case 'dayoff' :
									//element.find(".fc-title").before("<i class='ti-truck tiny'></i>&nbsp;");
									element.find(".fc-title").before("<i class='fas fa-plane tiny'></i>&nbsp;");
								break;
							default:
								break;
						}
					 }
				},
				dayRender: function(date, cell){
					if (moment().diff(date,'days') > 0){
						cell.css('background-color','#f5f5f5');
					}
				},
				viewRender: function(view, element) {
					//element.find('.fc-day-header').html('');
				},
				dayClick: function(date) {
					//console.log(moment(date).format('YYYY-MM-DD')); <-- 해당 날자로 상단 설정
				},
				eventClick: function(date) {
					//console.log(moment(date.start).format('YYYY-MM-DD')); <-- 해당 날자로 상단 설정
				}
				//eventSources: [getJobNoticeList],
				//eventSources: {
				//    url: "/Home/GetJobNoticeList",
				//    type: 'POST',
				//    error: function () {
				//        alert('there was an error while fetching events');
				//    },
				//    success: function (data) {
				//        return data;
				//    }
				//}
			});

			$('#ewPrevButton').on('click', function() {
				ewCal.fullCalendar('prev');
				changeEwTitle(ewCal);
			});

			$('#ewNextButton').on('click', function() {
				ewCal.fullCalendar('next');
				changeEwTitle(ewCal);
			});

			// ============================================================== //
			// title //
			// ============================================================== //
			// _type = 1; period
			var changeEwTitle = function(_obj, _type) {
				var gwView = _obj.fullCalendar('getView');

				switch(_type) {
					case 1:
						gwView = moment(gwView.start).format('YYYY.MM.DD') +" ~ "+ moment(gwView.end).format('YYYY.MM.DD');
						break;
					default :
						gwView = moment(gwView.intervalStart).format('YYYY. MM');
						break;
				}
				return $('#ewCalTitle').text(gwView);
			}
			changeEwTitle(ewCal);

			// ============================================================== //
			// eventLimite //
			// ============================================================== //
			var ewOption = ewCal.fullCalendar('getView').options;
			var chkDestory;
			var chkWidth = $(window).width();

			var ewCalSetLimite = function (_obj, _count) {
				ewOption.eventLimit = _count;
				_obj.fullCalendar('destroy');
				_obj.fullCalendar(ewOption);
			}

			if(chkWidth <= 600) {
				ewCalSetLimite(ewCal, 2);
				chkDestory = 'down';
			} else {
				ewCalSetLimite(ewCal, 0);
				chkDestory = 'up';
			}
			

			$( window ).resize( function() {
				if($(window).width() <= 600 && chkDestory == 'up') {
					ewCalSetLimite(ewCal, 2);
					chkDestory = 'down';
				} else if ($(window).width() > 600 && chkDestory == 'down') {
					ewCalSetLimite(ewCal, 0);
					chkDestory = 'up';
				}
			});	
		});
	</script>
</body>

</html>